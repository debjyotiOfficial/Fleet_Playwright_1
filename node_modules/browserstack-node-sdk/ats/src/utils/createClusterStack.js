function a27_0x14f3(){const _0x3bbd05=['PKcyz','sASoI','LOlSb','tNHqO','subnet-create.yaml','VPC','RcMSv','nZsuW','vpc-import.yaml','xwJcU','padStart','UEWiS','gtdwv','TTjAr','sEQUh','Vjarr','bigxo','Metadata','3|5|0|2|4|1','nVSGq','SubnetIds','ClusterName','LQqlO','flhfG','OtEhj','tDUqg','LMoCl','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','EKSCluster','7926hjWEZh','BSRkn','QtfcX','yYWtF','3365760QweFUi','Subnet02','Key','jmegr','Subnet01','LwzYW','sJxLu','ClusterAutoUpgrade','false','browserstack:cluster','74077lGCywQ','aws-eks-cluster-dep.yaml','-NodeGroup','join','dcXjN','Parameters','S3BucketName','qXQKp','vvXMb','oGSLT','WBjcm','rQATl','NodeGroup','POqSy','WzVbv','btsbl','Jthys','DELETE','value','NodeImageId','TemplateBody','MtzID','ZDyZn','fiMaT','UyKPu','krLGj','NodeGroupName','eABuO','valueOf','AWS::CloudFormation::Interface','ParameterGroups','NodeGroupWindows','Ref','Subnet','8zkQiqE','Subnets','Properties','mBljL','CloudFormation','WooAc','Ttylt','WQinG','hXUOq','YeGIV','16QiGQEk','browserstack:creationDate','BXHgG','MGQEE','12GurzvG','gCtwU','ami','1558701kKVdrm','keys','load','Bfcdc','KSuit','GBqNe','1|4|2|3|5|0','Resources','push','DependsOn','NodeAutoScalingGroupDesiredSizeWindows','pKtkE','NodeGroupNameWindows','Fn::Join','ParameterValue','ogCRk','Fnwiw','NodeAutoScalingGroupMaxSize','Subnet03','MiOPz','JBdxE','forEach','CFTemplates','Value','s3Bucket','DokrR','SRRvD','xLpQD','TRFLB','qRYoA','split','wlGsa','wvlsC','GPNBH','RrIRq','NodeAutoScalingGroupMinSize','StackId','promise','hiNyY','bYoVY','14605217yIFSsv','path','s3-create.yaml','wqqqg','utf-8','LMBMk','createStack','HOJql','tvvlL','WwwUe','ResourcesVpcConfig','DnHYx','pPprg','DjybV','uGEVP','nFhcl','AIivr','stackCreateComplete','4015oXoikX','./AWSUtils','../config/logger','subnet-import.yaml','js-yaml-cloudformation-schema','awsObj','HDvDR','fmJvG','ParameterKey','ADNtD','4108076ESpimB','vqcre','ggcTV','ApRcW','mABhV','JsYXa','schema','310164bEtYRO','yHNuy','StackName','instanceType','eGivV','OULsZ','iNDnq','VpcBlock','TvOgt','XNmHd','prigQ','LrJIa','UgoOG','xsXvD','kDIvr','OnFailure','NodeInstanceType','aPLbO','Tags','UFJaB','TCVWk','Outputs','readFileAsync','vpc-create.yaml','CvNLy','LZBdt','TgyAS'];a27_0x14f3=function(){return _0x3bbd05;};return a27_0x14f3();}const a27_0x1fc797=a27_0x4f36;(function(_0x12965f,_0x4d83c6){const _0x319a94=a27_0x4f36,_0x35c133=_0x12965f();while(!![]){try{const _0x1d8fed=-parseInt(_0x319a94(0x156))/0x1*(parseInt(_0x319a94(0x186))/0x2)+parseInt(_0x319a94(0x110))/0x3*(parseInt(_0x319a94(0x182))/0x4)+parseInt(_0x319a94(0x1c3))/0x5*(parseInt(_0x319a94(0x148))/0x6)+parseInt(_0x319a94(0x109))/0x7*(parseInt(_0x319a94(0x178))/0x8)+parseInt(_0x319a94(0x189))/0x9+parseInt(_0x319a94(0x14c))/0xa+-parseInt(_0x319a94(0x1b1))/0xb;if(_0x1d8fed===_0x4d83c6)break;else _0x35c133['push'](_0x35c133['shift']());}catch(_0xf2cb59){_0x35c133['push'](_0x35c133['shift']());}}}(a27_0x14f3,0xc3013));const fs=require('fs'),path=require(a27_0x1fc797(0x1b2)),Promise=require('bluebird'),yaml=require('js-yaml'),{CLOUDFORMATION_SCHEMA}=require(a27_0x1fc797(0x1c7)),AWS=require(a27_0x1fc797(0x1c4))[a27_0x1fc797(0x104)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require('../config/constants'),{logger}=require(a27_0x1fc797(0x1c5)),{isBucketPresent}=require('./AWSUtils');function a27_0x4f36(_0x3e6d2b,_0x3498bb){const _0x14f372=a27_0x14f3();return a27_0x4f36=function(_0x4f3648,_0x3624db){_0x4f3648=_0x4f3648-0x104;let _0x1ad532=_0x14f372[_0x4f3648];return _0x1ad532;},a27_0x4f36(_0x3e6d2b,_0x3498bb);}Promise['promisifyAll'](fs);const mergeTemplates=(_0x1b0c76,_0x121cad)=>{const _0x2dcca4=a27_0x1fc797,_0x531ddb={'uGEVP':_0x2dcca4(0x13d),'ggcTV':function(_0x2a2afc,_0x29f21f){return _0x2a2afc(_0x29f21f);},'mABhV':function(_0xc0ed66,_0x691067){return _0xc0ed66(_0x691067);},'RrIRq':_0x2dcca4(0x196),'Bfcdc':_0x2dcca4(0x173),'eHcNw':function(_0x4303b1,_0x1353b7,_0x159806){return _0x4303b1(_0x1353b7,_0x159806);},'sEQUh':function(_0x2ba615,_0x3dbd58){return _0x2ba615===_0x3dbd58;},'JBdxE':'yugOp','JsYXa':_0x2dcca4(0x1a8),'ZDyZn':function(_0x52444c,_0x2bbd64){return _0x52444c===_0x2bbd64;},'prigQ':'tsKPl','Jthys':'nhKLx'};Object[_0x2dcca4(0x18a)](_0x121cad)[_0x2dcca4(0x19e)](_0x19b81f=>{const _0x5f3ac4=_0x2dcca4,_0x3705c8={'AIivr':_0x531ddb[_0x5f3ac4(0x1bf)],'hiNyY':function(_0x3ba24b,_0x2b7120){const _0x3c071c=_0x5f3ac4;return _0x531ddb[_0x3c071c(0x10b)](_0x3ba24b,_0x2b7120);},'PKcyz':function(_0x32f8b0,_0x44cb96){return _0x531ddb['mABhV'](_0x32f8b0,_0x44cb96);},'jmegr':function(_0x2087ce,_0x1a152d){const _0x17c404=_0x5f3ac4;return _0x531ddb[_0x17c404(0x10d)](_0x2087ce,_0x1a152d);},'GWciT':_0x531ddb[_0x5f3ac4(0x1ab)],'bYoVY':_0x531ddb[_0x5f3ac4(0x18c)],'mnTYk':function(_0x3e4908,_0x1d8698,_0x39470b){return _0x531ddb['eHcNw'](_0x3e4908,_0x1d8698,_0x39470b);},'MtzID':function(_0x10673c,_0x5e490c){const _0x23db62=_0x5f3ac4;return _0x531ddb[_0x23db62(0x139)](_0x10673c,_0x5e490c);},'qXQKp':_0x531ddb[_0x5f3ac4(0x19d)],'sASoI':_0x531ddb[_0x5f3ac4(0x10e)]};if(_0x531ddb[_0x5f3ac4(0x16c)](_0x531ddb[_0x5f3ac4(0x11a)],_0x531ddb[_0x5f3ac4(0x166)])){const _0x2c37cb=_0x3705c8[_0x5f3ac4(0x1c1)][_0x5f3ac4(0x1a7)]('|');let _0x2cdfb1=0x0;while(!![]){switch(_0x2c37cb[_0x2cdfb1++]){case'0':_0x1ef161[_0x5f3ac4(0x190)][_0x5f3ac4(0x162)][_0x5f3ac4(0x17a)][_0x5f3ac4(0x179)][_0x5f3ac4(0x191)]({'Ref':_0x5f3ac4(0x177)+_0x3705c8[_0x5f3ac4(0x1af)](_0x217f37,_0x5e6d9d)[_0x5f3ac4(0x135)](0x2,'0')});continue;case'1':_0x1bc106+=0x1;continue;case'2':_0x1d3c78[_0x5f3ac4(0x190)][_0x5f3ac4(0x175)][_0x5f3ac4(0x17a)][_0x5f3ac4(0x179)]['push']({'Ref':'Subnet'+_0x3705c8[_0x5f3ac4(0x12b)](_0x3f08fc,_0x5ef8f0)[_0x5f3ac4(0x135)](0x2,'0')});continue;case'3':_0x259be8[_0x5f3ac4(0x190)][_0x5f3ac4(0x147)][_0x5f3ac4(0x17a)][_0x5f3ac4(0x1bb)]['SubnetIds'][_0x5f3ac4(0x191)]({'Ref':_0x5f3ac4(0x177)+_0x3705c8[_0x5f3ac4(0x14f)](_0x3f27b6,_0x26264e)[_0x5f3ac4(0x135)](0x2,'0')});continue;case'4':_0x93bfca[_0x5f3ac4(0x125)][_0x5f3ac4(0x13f)][_0x5f3ac4(0x1a0)][_0x3705c8['GWciT']][0x1][_0x5f3ac4(0x191)]({'Ref':_0x5f3ac4(0x177)+_0x3705c8[_0x5f3ac4(0x14f)](_0x19611a,_0x1073b5)[_0x5f3ac4(0x135)](0x2,'0')});continue;case'5':_0x24937a[_0x5f3ac4(0x13c)][_0x3705c8[_0x5f3ac4(0x1b0)]][_0x5f3ac4(0x174)][0x0]['Parameters'][_0x5f3ac4(0x191)](_0x5f3ac4(0x177)+_0x3705c8['PKcyz'](_0x6b98b2,_0x3264dc)[_0x5f3ac4(0x135)](0x2,'0'));continue;}break;}}else{var _0xf5252b=_0x121cad[_0x19b81f];Object['keys'](_0xf5252b)[_0x5f3ac4(0x19e)](_0x30282f=>{const _0x5e9ba1=_0x5f3ac4;_0x3705c8[_0x5e9ba1(0x16b)](_0x3705c8[_0x5e9ba1(0x15d)],_0x3705c8[_0x5e9ba1(0x12c)])?_0x3705c8['mnTYk'](_0x1e0e62,_0x545f40,_0x39debe):_0x1b0c76[_0x19b81f][_0x30282f]=_0xf5252b[_0x30282f];});}});},addVPCData=async(_0x434d9f,_0x259d03)=>{const _0x1665b4=a27_0x1fc797,_0x30252c={'dcXjN':function(_0xcdae02,_0x1d9b26){return _0xcdae02!==_0x1d9b26;},'nFhcl':_0x1665b4(0x1b6),'RcMSv':_0x1665b4(0x137),'vvXMb':'CFTemplates','ZuWGE':_0x1665b4(0x133),'WBjcm':_0x1665b4(0x1b5),'UEWiS':function(_0x116187,_0x955e1c,_0x49669b){return _0x116187(_0x955e1c,_0x49669b);},'LMoCl':_0x1665b4(0x173),'wFatA':_0x1665b4(0x130),'dCEXw':function(_0x171349,_0x4d88da){return _0x171349===_0x4d88da;},'xLpQD':_0x1665b4(0x105),'oGSLT':_0x1665b4(0x127),'BtJKh':function(_0x1244cf,_0x5a66ba,_0x175477){return _0x1244cf(_0x5a66ba,_0x175477);},'DjybV':_0x1665b4(0x117)};if(_0x259d03){if(_0x30252c[_0x1665b4(0x15a)](_0x30252c[_0x1665b4(0x1c0)],_0x30252c[_0x1665b4(0x131)])){const _0x88fc0f=await fs[_0x1665b4(0x126)](path[_0x1665b4(0x159)](__dirname,'..',_0x30252c['vvXMb'],_0x30252c['ZuWGE']),_0x30252c[_0x1665b4(0x160)]),_0x457af4={};_0x457af4[_0x1665b4(0x10f)]=CLOUDFORMATION_SCHEMA;const _0x53f31c=yaml[_0x1665b4(0x18b)](_0x88fc0f,_0x457af4);_0x30252c[_0x1665b4(0x136)](mergeTemplates,_0x434d9f,_0x53f31c),_0x434d9f[_0x1665b4(0x13c)][_0x30252c[_0x1665b4(0x145)]][_0x1665b4(0x174)][0x0][_0x1665b4(0x15b)][_0x1665b4(0x191)](_0x30252c['wFatA']);}else _0x12bd2c[_0x1665b4(0x190)][_0x27289c][_0x1665b4(0x17a)][_0x1665b4(0x122)][_0x1665b4(0x191)](..._0x501063);}else{if(_0x30252c['dCEXw'](_0x30252c[_0x1665b4(0x1a4)],_0x30252c[_0x1665b4(0x1a4)])){const _0x540423=await fs[_0x1665b4(0x126)](path['join'](__dirname,'..',_0x30252c[_0x1665b4(0x15e)],_0x30252c[_0x1665b4(0x15f)]),_0x30252c[_0x1665b4(0x160)]),_0x58e2de={};_0x58e2de[_0x1665b4(0x10f)]=CLOUDFORMATION_SCHEMA;const _0x33500d=yaml[_0x1665b4(0x18b)](_0x540423,_0x58e2de);_0x30252c['BtJKh'](mergeTemplates,_0x434d9f,_0x33500d),_0x434d9f[_0x1665b4(0x13c)][_0x30252c[_0x1665b4(0x145)]][_0x1665b4(0x174)][0x0]['Parameters'][_0x1665b4(0x191)](_0x30252c[_0x1665b4(0x1be)]);}else _0x4e96af[_0x1446fe][_0x329686]=_0x1c9f78[_0x2db462];}},addS3Data=async _0x1a71b3=>{const _0x28bdb0=a27_0x1fc797,_0x48fcf8={'XbTME':'CFTemplates','SRRvD':_0x28bdb0(0x1b3),'vqcre':_0x28bdb0(0x1b5),'ogCRk':function(_0x5961a2,_0x2e4620){return _0x5961a2(_0x2e4620);},'krLGj':function(_0x2296e7,_0xe2ea16){return _0x2296e7===_0xe2ea16;},'kDIvr':_0x28bdb0(0x151),'yYWtF':_0x28bdb0(0x199),'LQqlO':function(_0x3f561e,_0x432695,_0xe2881a){return _0x3f561e(_0x432695,_0xe2881a);}},_0x5c9eb5=await fs[_0x28bdb0(0x126)](path['join'](__dirname,'..',_0x48fcf8['XbTME'],_0x48fcf8[_0x28bdb0(0x1a3)]),_0x48fcf8[_0x28bdb0(0x10a)]),_0x59b1ae={};_0x59b1ae[_0x28bdb0(0x10f)]=CLOUDFORMATION_SCHEMA;const _0x115bf5=yaml[_0x28bdb0(0x18b)](_0x5c9eb5,_0x59b1ae),_0x30c6cc=await _0x48fcf8[_0x28bdb0(0x198)](isBucketPresent,global_registry[_0x28bdb0(0x1a1)]);if(_0x48fcf8[_0x28bdb0(0x16f)](_0x30c6cc,![])){if(_0x48fcf8[_0x28bdb0(0x16f)](_0x48fcf8[_0x28bdb0(0x11e)],_0x48fcf8[_0x28bdb0(0x14b)])){var _0x2547bc=_0x5550b9[_0x2ab5a2];_0x5afb7f[_0x28bdb0(0x18a)](_0x2547bc)[_0x28bdb0(0x19e)](_0x42a816=>{_0x5bb8f7[_0x181178][_0x42a816]=_0x2547bc[_0x42a816];});}else _0x48fcf8[_0x28bdb0(0x141)](mergeTemplates,_0x1a71b3,_0x115bf5);}},addSubnetData=async(_0x761c7,_0x1d0943)=>{const _0x4a3cc5=a27_0x1fc797,_0x1c0745={'CvNLy':_0x4a3cc5(0x130),'WooAc':function(_0x45bfd7,_0x48b024){return _0x45bfd7===_0x48b024;},'nZsuW':_0x4a3cc5(0x108),'wFeiS':_0x4a3cc5(0x18f),'WQinG':function(_0x51208b,_0x4f1d00){return _0x51208b(_0x4f1d00);},'MiOPz':function(_0x117449,_0x13619e){return _0x117449(_0x13619e);},'pPprg':_0x4a3cc5(0x173),'yHNuy':_0x4a3cc5(0x196),'kDxZO':function(_0x914960,_0x279773){return _0x914960!==_0x279773;},'GPNBH':'RtQMu','sJxLu':_0x4a3cc5(0x19f),'NNwKe':_0x4a3cc5(0x1c6),'LZBdt':_0x4a3cc5(0x1b5),'ApRcW':function(_0x231ccc,_0x57b197,_0x5b7846){return _0x231ccc(_0x57b197,_0x5b7846);},'wqxTY':function(_0x579370,_0x171f8b){return _0x579370!==_0x171f8b;},'cgfLT':_0x4a3cc5(0x142),'UgoOG':_0x4a3cc5(0x1a9),'BSRkn':_0x4a3cc5(0x12f),'fiMaT':_0x4a3cc5(0x150),'XNmHd':_0x4a3cc5(0x14d),'OtEhj':_0x4a3cc5(0x19b),'TTjAr':'Subnet01Block','pbnpF':'Subnet02Block','tNHqO':'Subnet03Block'};if(_0x1d0943){if(_0x1c0745['kDxZO'](_0x1c0745[_0x4a3cc5(0x1aa)],_0x1c0745['GPNBH'])){const _0x38be37={};_0x38be37[_0x4a3cc5(0x107)]=_0x1c0745[_0x4a3cc5(0x128)],_0x38be37[_0x4a3cc5(0x197)]=_0x129275,_0x1185a4[_0x4a3cc5(0x15b)][_0x4a3cc5(0x191)](_0x38be37);}else{const _0x491078=await fs[_0x4a3cc5(0x126)](path[_0x4a3cc5(0x159)](__dirname,'..',_0x1c0745[_0x4a3cc5(0x152)],_0x1c0745['NNwKe']),_0x1c0745[_0x4a3cc5(0x129)]),_0x1b60b9={};_0x1b60b9[_0x4a3cc5(0x10f)]=CLOUDFORMATION_SCHEMA;const _0x3045b6=yaml[_0x4a3cc5(0x18b)](_0x491078,_0x1b60b9);_0x1c0745[_0x4a3cc5(0x10c)](mergeTemplates,_0x761c7,_0x3045b6);let _0x3069aa=0x1;_0x1d0943[_0x4a3cc5(0x19e)](_0x1abb2f=>{const _0x3cd1de=_0x4a3cc5;if(_0x1c0745[_0x3cd1de(0x17d)](_0x1c0745[_0x3cd1de(0x132)],_0x1c0745[_0x3cd1de(0x132)])){const _0x95b2f2=_0x1c0745['wFeiS'][_0x3cd1de(0x1a7)]('|');let _0x5543c5=0x0;while(!![]){switch(_0x95b2f2[_0x5543c5++]){case'0':_0x3069aa+=0x1;continue;case'1':_0x761c7[_0x3cd1de(0x190)][_0x3cd1de(0x147)][_0x3cd1de(0x17a)][_0x3cd1de(0x1bb)][_0x3cd1de(0x13f)][_0x3cd1de(0x191)]({'Ref':_0x3cd1de(0x177)+_0x1c0745[_0x3cd1de(0x17f)](String,_0x3069aa)[_0x3cd1de(0x135)](0x2,'0')});continue;case'2':_0x761c7[_0x3cd1de(0x190)][_0x3cd1de(0x162)]['Properties'][_0x3cd1de(0x179)][_0x3cd1de(0x191)]({'Ref':_0x3cd1de(0x177)+_0x1c0745[_0x3cd1de(0x17f)](String,_0x3069aa)[_0x3cd1de(0x135)](0x2,'0')});continue;case'3':_0x761c7[_0x3cd1de(0x190)][_0x3cd1de(0x175)][_0x3cd1de(0x17a)][_0x3cd1de(0x179)][_0x3cd1de(0x191)]({'Ref':_0x3cd1de(0x177)+_0x1c0745[_0x3cd1de(0x19c)](String,_0x3069aa)[_0x3cd1de(0x135)](0x2,'0')});continue;case'4':_0x761c7['Metadata'][_0x1c0745['pPprg']]['ParameterGroups'][0x0][_0x3cd1de(0x15b)][_0x3cd1de(0x191)]('Subnet'+_0x1c0745['MiOPz'](String,_0x3069aa)[_0x3cd1de(0x135)](0x2,'0'));continue;case'5':_0x761c7[_0x3cd1de(0x125)][_0x3cd1de(0x13f)][_0x3cd1de(0x1a0)][_0x1c0745[_0x3cd1de(0x111)]][0x1][_0x3cd1de(0x191)]({'Ref':_0x3cd1de(0x177)+_0x1c0745[_0x3cd1de(0x19c)](String,_0x3069aa)[_0x3cd1de(0x135)](0x2,'0')});continue;}break;}}else _0x318200[_0x3cd1de(0x18a)](_0x402c0e)[_0x3cd1de(0x19e)](_0x30e1a2=>{const _0x4ca05e=_0x3cd1de;var _0x4d1806=_0x5cec73[_0x30e1a2];_0x2a19b9[_0x4ca05e(0x18a)](_0x4d1806)[_0x4ca05e(0x19e)](_0x201a3e=>{_0x5ebe88[_0x30e1a2][_0x201a3e]=_0x4d1806[_0x201a3e];});});});}}else{if(_0x1c0745['wqxTY'](_0x1c0745['cgfLT'],_0x1c0745[_0x4a3cc5(0x11c)])){const _0xa76879=await fs[_0x4a3cc5(0x126)](path[_0x4a3cc5(0x159)](__dirname,'..',_0x1c0745['sJxLu'],_0x1c0745[_0x4a3cc5(0x149)]),_0x1c0745['LZBdt']),_0x3b8f30={};_0x3b8f30[_0x4a3cc5(0x10f)]=CLOUDFORMATION_SCHEMA;const _0x4667e1=yaml['load'](_0xa76879,_0x3b8f30);_0x1c0745[_0x4a3cc5(0x10c)](mergeTemplates,_0x761c7,_0x4667e1),_0x761c7[_0x4a3cc5(0x190)][_0x4a3cc5(0x147)][_0x4a3cc5(0x192)]['push'](_0x1c0745[_0x4a3cc5(0x16d)],_0x1c0745[_0x4a3cc5(0x119)],_0x1c0745[_0x4a3cc5(0x143)]);const _0x445bee={};_0x445bee['Ref']=_0x1c0745[_0x4a3cc5(0x16d)];const _0x4910d5={};_0x4910d5[_0x4a3cc5(0x176)]=_0x1c0745[_0x4a3cc5(0x119)];const _0x1dc1cc={};_0x1dc1cc[_0x4a3cc5(0x176)]=_0x1c0745[_0x4a3cc5(0x143)],_0x761c7['Resources']['EKSCluster']['Properties'][_0x4a3cc5(0x1bb)]['SubnetIds']=[_0x445bee,_0x4910d5,_0x1dc1cc],_0x761c7[_0x4a3cc5(0x13c)][_0x1c0745[_0x4a3cc5(0x1bd)]]['ParameterGroups'][0x0][_0x4a3cc5(0x15b)][_0x4a3cc5(0x191)](_0x1c0745[_0x4a3cc5(0x138)],_0x1c0745['pbnpF'],_0x1c0745[_0x4a3cc5(0x12e)]);const _0x34f3ab={};_0x34f3ab['Ref']=_0x1c0745['fiMaT'];const _0x4876b6={};_0x4876b6[_0x4a3cc5(0x176)]=_0x1c0745[_0x4a3cc5(0x119)];const _0x2e3c2b={};_0x2e3c2b['Ref']=_0x1c0745[_0x4a3cc5(0x143)],_0x761c7[_0x4a3cc5(0x190)][_0x4a3cc5(0x162)][_0x4a3cc5(0x17a)][_0x4a3cc5(0x179)]=[_0x34f3ab,_0x4876b6,_0x2e3c2b];const _0x1714a9={};_0x1714a9[_0x4a3cc5(0x176)]=_0x1c0745['fiMaT'];const _0x3e0a4a={};_0x3e0a4a[_0x4a3cc5(0x176)]=_0x1c0745[_0x4a3cc5(0x119)];const _0x59db71={};_0x59db71['Ref']=_0x1c0745[_0x4a3cc5(0x143)],_0x761c7[_0x4a3cc5(0x190)][_0x4a3cc5(0x175)][_0x4a3cc5(0x17a)][_0x4a3cc5(0x179)]=[_0x1714a9,_0x3e0a4a,_0x59db71],_0x761c7[_0x4a3cc5(0x125)][_0x4a3cc5(0x13f)][_0x4a3cc5(0x1a0)][_0x1c0745[_0x4a3cc5(0x111)]][0x1]=[{'Ref':_0x1c0745[_0x4a3cc5(0x16d)]},{'Ref':_0x1c0745[_0x4a3cc5(0x119)]},{'Ref':_0x1c0745[_0x4a3cc5(0x143)]}];}else _0x23de19[_0x10222f[_0x4a3cc5(0x14e)]]=_0x2e0d4a[_0x4a3cc5(0x1a0)];}},addTags=async(_0x564c6e,_0x496836,_0x5083cd)=>{const _0x1a54c6=a27_0x1fc797,_0x53384b={'Ttylt':function(_0x32f588,_0x2d3918){return _0x32f588(_0x2d3918);},'btsbl':_0x1a54c6(0x162),'mBljL':_0x1a54c6(0x175),'POqSy':function(_0x9c3826,_0x49d39b){return _0x9c3826===_0x49d39b;},'qRYoA':'kpSJg','vYtZZ':_0x1a54c6(0x134),'LrJIa':function(_0x542f1b,_0x251802){return _0x542f1b!==_0x251802;},'HOJql':'pbNDX','JaRSu':_0x1a54c6(0x161),'yanPJ':_0x1a54c6(0x1b4)};for(const _0x2ebe73 in _0x564c6e[_0x1a54c6(0x190)]){if(_0x53384b[_0x1a54c6(0x11b)](_0x53384b['HOJql'],_0x53384b[_0x1a54c6(0x1b8)]))_0x830ba[_0x1a54c6(0x15b)][_0x1a54c6(0x191)]({'ParameterKey':_0x1a54c6(0x177)+_0x53384b[_0x1a54c6(0x17e)](_0xf5ac90,_0x14f0cd)[_0x1a54c6(0x135)](0x2,'0'),'ParameterValue':_0x325477[_0x1a54c6(0x168)]}),_0x245db0+=0x1;else{if(_0x564c6e[_0x1a54c6(0x190)][_0x2ebe73]['Properties']&&_0x564c6e[_0x1a54c6(0x190)][_0x2ebe73][_0x1a54c6(0x17a)][_0x1a54c6(0x122)]){if(_0x53384b[_0x1a54c6(0x11b)](_0x53384b['JaRSu'],_0x53384b['yanPJ']))_0x564c6e[_0x1a54c6(0x190)][_0x2ebe73]['Properties']['Tags'][_0x1a54c6(0x191)](..._0x5083cd);else{for(const _0x3c2922 in _0x1a356a['Resources']){_0x2b2ae7['Resources'][_0x3c2922]['Properties']&&_0x252e35[_0x1a54c6(0x190)][_0x3c2922][_0x1a54c6(0x17a)][_0x1a54c6(0x122)]&&_0x424227[_0x1a54c6(0x190)][_0x3c2922][_0x1a54c6(0x17a)][_0x1a54c6(0x122)][_0x1a54c6(0x191)](..._0xdaf9f1);}const _0x5d093e={};_0x7c337a[_0x1a54c6(0x19e)](_0x3263f8=>{const _0x531690=_0x1a54c6;_0x5d093e[_0x3263f8[_0x531690(0x14e)]]=_0x3263f8[_0x531690(0x1a0)];}),_0xeee977[_0x1a54c6(0x190)][_0x53384b['btsbl']][_0x1a54c6(0x17a)][_0x1a54c6(0x122)]=_0x5d093e,_0x22664e[_0x1a54c6(0x190)][_0x53384b['mBljL']]['Properties'][_0x1a54c6(0x122)]=_0x5d093e;}}}}const _0x5da0d4={};_0x5083cd[_0x1a54c6(0x19e)](_0x557937=>{const _0x2adfcc=_0x1a54c6;_0x53384b[_0x2adfcc(0x163)](_0x53384b[_0x2adfcc(0x1a6)],_0x53384b['vYtZZ'])?_0x530c9d['Resources'][_0x3d67be][_0x2adfcc(0x17a)]&&_0x460841[_0x2adfcc(0x190)][_0x353886][_0x2adfcc(0x17a)][_0x2adfcc(0x122)]&&_0x2e07f6['Resources'][_0x22291f][_0x2adfcc(0x17a)]['Tags']['push'](..._0x73e20e):_0x5da0d4[_0x557937[_0x2adfcc(0x14e)]]=_0x557937[_0x2adfcc(0x1a0)];}),_0x564c6e[_0x1a54c6(0x190)][_0x53384b[_0x1a54c6(0x165)]]['Properties'][_0x1a54c6(0x122)]=_0x5da0d4,_0x564c6e['Resources'][_0x53384b[_0x1a54c6(0x17b)]][_0x1a54c6(0x17a)][_0x1a54c6(0x122)]=_0x5da0d4;};exports['createClusterStack']=async(_0x3a0bdc,_0x38527c,_0x228b17,_0x320d3f=null,_0x45a9db=null,_0x95d85)=>{const _0xdb5b9e=a27_0x1fc797,_0x593851={'TgyAS':function(_0x310365,_0x2a8207){return _0x310365(_0x2a8207);},'tDUqg':_0xdb5b9e(0x155),'YeGIV':_0xdb5b9e(0x183),'eGivV':'2010-05-15','BXHgG':_0xdb5b9e(0x19f),'pKtkE':_0xdb5b9e(0x157),'KSuit':_0xdb5b9e(0x1b5),'TRFLB':function(_0x322201,_0x4a4ffb,_0x4646ba){return _0x322201(_0x4a4ffb,_0x4646ba);},'nVSGq':function(_0x548731,_0x40024e,_0x4ed068){return _0x548731(_0x40024e,_0x4ed068);},'iNDnq':function(_0x4eb600,_0x15c500,_0x4fff52,_0x2ad83e){return _0x4eb600(_0x15c500,_0x4fff52,_0x2ad83e);},'xsXvD':_0xdb5b9e(0x167),'QtfcX':_0xdb5b9e(0x140),'UFJaB':_0xdb5b9e(0x170),'gCtwU':_0xdb5b9e(0x1ac),'WzVbv':'NodeAutoScalingGroupMinSizeWindows','WwwUe':_0xdb5b9e(0x193),'eABuO':_0xdb5b9e(0x19a),'DnHYx':_0xdb5b9e(0x169),'Vjarr':_0xdb5b9e(0x120),'nJDey':_0xdb5b9e(0x15c),'ZGRhK':_0xdb5b9e(0x195),'LOlSb':_0xdb5b9e(0x153),'bigxo':'true','OULsZ':_0xdb5b9e(0x154),'GBqNe':'CAPABILITY_NAMED_IAM','aPLbO':function(_0x21d3ca,_0x4aa40f){return _0x21d3ca!=_0x4aa40f;},'fyhER':function(_0x3a2037,_0x173d47){return _0x3a2037!==_0x173d47;},'tvvlL':function(_0x45fb83,_0x40da51){return _0x45fb83!==_0x40da51;},'MGQEE':_0xdb5b9e(0x118),'TCVWk':_0xdb5b9e(0x1a2),'fmJvG':_0xdb5b9e(0x130),'mVJTn':function(_0x22bd6e,_0x400921){return _0x22bd6e!=_0x400921;},'hXUOq':function(_0x333365,_0x49bf9e){return _0x333365!==_0x49bf9e;},'LusEb':_0xdb5b9e(0x146),'UyKPu':_0xdb5b9e(0x1c2)},_0x26dc76=COMMON_HST_TAGS,_0x512d73={};_0x512d73[_0xdb5b9e(0x14e)]=_0x593851[_0xdb5b9e(0x144)],_0x512d73[_0xdb5b9e(0x1a0)]=_0x3a0bdc,_0x26dc76[_0xdb5b9e(0x191)](_0x512d73),_0x26dc76[_0xdb5b9e(0x191)]({'Key':_0x593851[_0xdb5b9e(0x181)],'Value':new Date()[_0xdb5b9e(0x172)]()['toString']()});const _0x22a41e={};_0x22a41e['apiVersion']=_0x593851[_0xdb5b9e(0x114)];const _0x12ea48=new AWS[(_0xdb5b9e(0x17c))](_0x22a41e),_0x4fe3f6=await fs[_0xdb5b9e(0x126)](path[_0xdb5b9e(0x159)](__dirname,'..',_0x593851[_0xdb5b9e(0x184)],_0x593851[_0xdb5b9e(0x194)]),_0x593851[_0xdb5b9e(0x18d)]),_0x2d1085={};_0x2d1085[_0xdb5b9e(0x10f)]=CLOUDFORMATION_SCHEMA;const _0x50da88=yaml[_0xdb5b9e(0x18b)](_0x4fe3f6,_0x2d1085);await _0x593851[_0xdb5b9e(0x1a5)](addVPCData,_0x50da88,_0x320d3f),await _0x593851[_0xdb5b9e(0x12a)](addS3Data,_0x50da88),await _0x593851[_0xdb5b9e(0x13e)](addSubnetData,_0x50da88,_0x45a9db),await _0x593851[_0xdb5b9e(0x116)](addTags,_0x50da88,_0x3a0bdc,_0x26dc76);const _0x1f2f1f=JSON['stringify'](_0x50da88),_0x5e65b6={};_0x5e65b6[_0xdb5b9e(0x112)]=CLUSTER_DEP_STACK_NAME+'-'+_0x3a0bdc,_0x5e65b6[_0xdb5b9e(0x11f)]=_0x593851[_0xdb5b9e(0x11d)],_0x5e65b6[_0xdb5b9e(0x16a)]=_0x1f2f1f,_0x5e65b6[_0xdb5b9e(0x15b)]=[{'ParameterKey':_0x593851[_0xdb5b9e(0x14a)],'ParameterValue':_0x3a0bdc},{'ParameterKey':_0x593851[_0xdb5b9e(0x123)],'ParameterValue':_0x3a0bdc+_0xdb5b9e(0x158)},{'ParameterKey':_0x593851[_0xdb5b9e(0x187)],'ParameterValue':''+_0x38527c},{'ParameterKey':_0x593851[_0xdb5b9e(0x164)],'ParameterValue':'0'},{'ParameterKey':_0x593851[_0xdb5b9e(0x1ba)],'ParameterValue':'1'},{'ParameterKey':_0x593851[_0xdb5b9e(0x171)],'ParameterValue':''+_0x228b17},{'ParameterKey':_0x593851[_0xdb5b9e(0x1bc)],'ParameterValue':global_registry[_0xdb5b9e(0x188)]},{'ParameterKey':_0x593851[_0xdb5b9e(0x13a)],'ParameterValue':global_registry[_0xdb5b9e(0x113)]},{'ParameterKey':_0x593851['nJDey'],'ParameterValue':global_registry[_0xdb5b9e(0x1a1)]},{'ParameterKey':_0x593851['ZGRhK'],'ParameterValue':_0x3a0bdc+'-Windows-NodeGroup'},{'ParameterKey':_0x593851[_0xdb5b9e(0x12d)],'ParameterValue':_0x95d85?_0x593851[_0xdb5b9e(0x13b)]:_0x593851[_0xdb5b9e(0x115)]}],_0x5e65b6['Capabilities']=[_0x593851[_0xdb5b9e(0x18e)]],_0x5e65b6[_0xdb5b9e(0x122)]=_0x26dc76;const _0x49907c=_0x5e65b6;if(_0x593851[_0xdb5b9e(0x121)](_0x320d3f,null)&&_0x593851['fyhER'](_0x320d3f,undefined)){if(_0x593851[_0xdb5b9e(0x1b9)](_0x593851[_0xdb5b9e(0x185)],_0x593851[_0xdb5b9e(0x124)])){const _0x363991={};_0x363991['ParameterKey']=_0x593851[_0xdb5b9e(0x106)],_0x363991[_0xdb5b9e(0x197)]=_0x320d3f,_0x49907c[_0xdb5b9e(0x15b)][_0xdb5b9e(0x191)](_0x363991);}else{let _0x21fe53=0x1;_0x392e36[_0xdb5b9e(0x19e)](_0x27fb80=>{const _0x5eec22=_0xdb5b9e;_0x13a596[_0x5eec22(0x15b)][_0x5eec22(0x191)]({'ParameterKey':_0x5eec22(0x177)+_0x593851[_0x5eec22(0x12a)](_0x5d2edf,_0x21fe53)['padStart'](0x2,'0'),'ParameterValue':_0x27fb80[_0x5eec22(0x168)]}),_0x21fe53+=0x1;});}}if(_0x593851['mVJTn'](_0x45a9db,null)&&_0x593851[_0xdb5b9e(0x180)](_0x45a9db,undefined)){let _0x4d9a7d=0x1;_0x45a9db[_0xdb5b9e(0x19e)](_0x151030=>{const _0x4e14bd=_0xdb5b9e;_0x49907c['Parameters'][_0x4e14bd(0x191)]({'ParameterKey':_0x4e14bd(0x177)+_0x593851[_0x4e14bd(0x12a)](String,_0x4d9a7d)[_0x4e14bd(0x135)](0x2,'0'),'ParameterValue':_0x151030[_0x4e14bd(0x168)]}),_0x4d9a7d+=0x1;});}const _0x58de87=await _0x12ea48[_0xdb5b9e(0x1b7)](_0x49907c)[_0xdb5b9e(0x1ae)]();logger['debug'](_0x593851['LusEb']);const _0x539720={};return _0x539720['StackName']=_0x58de87[_0xdb5b9e(0x1ad)],_0x12ea48['waitFor'](_0x593851[_0xdb5b9e(0x16e)],_0x539720)[_0xdb5b9e(0x1ae)]();};