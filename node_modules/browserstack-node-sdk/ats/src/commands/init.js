const a12_0x3361ed=a12_0x27eb;(function(_0x454c58,_0x55f96b){const _0x38a2bd=a12_0x27eb,_0xac697d=_0x454c58();while(!![]){try{const _0x1adcfa=parseInt(_0x38a2bd(0x252))/0x1+-parseInt(_0x38a2bd(0x234))/0x2+-parseInt(_0x38a2bd(0x246))/0x3*(-parseInt(_0x38a2bd(0x1fb))/0x4)+-parseInt(_0x38a2bd(0x221))/0x5+parseInt(_0x38a2bd(0x260))/0x6*(parseInt(_0x38a2bd(0x25b))/0x7)+parseInt(_0x38a2bd(0x241))/0x8+-parseInt(_0x38a2bd(0x200))/0x9*(parseInt(_0x38a2bd(0x22b))/0xa);if(_0x1adcfa===_0x55f96b)break;else _0xac697d['push'](_0xac697d['shift']());}catch(_0x199e54){_0xac697d['push'](_0xac697d['shift']());}}}(a12_0x3399,0x4259e));function a12_0x3399(){const _0x286b5b=['Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','GET','readFileSync','Ljrli','UarHx','../config/constants','tqnOZ','50FKPNkq','help','writeFileSync','env','kdZQW','https://','oPsag','BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','mkdirSync','130520ImBZJh','kOUrS','aznMH','ZNMwz','oKOiB','GojwB','argv','YBoPA','ERROR','Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','ZQeRu','habBa','usage','3980776RuTmQh','../config/logger','requestId','recommendCommands','type','21HwmGzr','bstack-username','Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.','gDXjI','../utils/userInput','builder','handler','CbtqI','stringify','bstackUsername','password','Qtrmb','477640UHaobP','arqHX','ppPJt','bstack-accesskey','icMMP','VJpZq','JVoCt','lfofW','uuid','175wRfouS','exit','wrong-creds','Wpvzn','nQSTP','103110NMySsX','eqCmr','BROWSERSTACK_USERNAME','fwekZ','debug','vWBzf','existsSync','LacrG','unknown-error','uJAAD','CUKQf','pyEDK','279448VzeaSv','cqeNx','Browserstack','utf-8','options','2559888viPkAS','wzUBz','init-called','username','zJCyC','stack','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','GZofA','OOjiu','NjuKA','SssNw','init','rfsKJ','bstackAccesskey','aorkt','BROWSERSTACK_ACCESS_KEY','zSfln','epilogue','kWgBS','parse','util','string','error','got','ELdri','description','Wrumm','VpFoE','../utils/instrumentationUtils','wmbri','strict','AKSXZ','gSpGv','673510yspPSF','cbOof','INFO'];a12_0x3399=function(){return _0x286b5b;};return a12_0x3399();}const fs=require('fs'),util=require(a12_0x3361ed(0x214)),got=require(a12_0x3361ed(0x217)),{v4:uuidv4}=require(a12_0x3361ed(0x25a)),{logger}=require(a12_0x3361ed(0x242)),{inputBstackKeys}=require(a12_0x3361ed(0x24a)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a12_0x3361ed(0x229)),{getDirForConfig,getCredentialsPath,getAuthHeader}=require('../utils/utilityMethods'),{sendInstrumentationEvent}=require(a12_0x3361ed(0x21c));function a12_0x27eb(_0x493aea,_0x11f995){const _0x3399d2=a12_0x3399();return a12_0x27eb=function(_0x27eb7b,_0x274ae2){_0x27eb7b=_0x27eb7b-0x1f3;let _0x1e7779=_0x3399d2[_0x27eb7b];return _0x1e7779;},a12_0x27eb(_0x493aea,_0x11f995);}exports['command']=a12_0x3361ed(0x20b),exports['desc']=a12_0x3361ed(0x248),exports[a12_0x3361ed(0x24b)]=function(_0x18df5e){const _0x24f209=a12_0x3361ed,_0x590c39={};_0x590c39[_0x24f209(0x1f8)]='Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.',_0x590c39['CbtqI']='string',_0x590c39[_0x24f209(0x208)]=_0x24f209(0x224),_0x590c39[_0x24f209(0x20c)]=_0x24f209(0x22c);const _0x4e4f44=_0x590c39,_0xbfc9fe={};_0xbfc9fe[_0x24f209(0x219)]=_0x4e4f44['uJAAD'],_0xbfc9fe[_0x24f209(0x245)]=_0x4e4f44[_0x24f209(0x24d)];const _0x20276b={};_0x20276b[_0x24f209(0x219)]=_0x4e4f44['OOjiu'],_0x20276b['type']=_0x4e4f44[_0x24f209(0x24d)];const _0x271f68={};return _0x271f68[_0x24f209(0x247)]=_0xbfc9fe,_0x271f68[_0x24f209(0x255)]=_0x20276b,_0x18df5e[_0x24f209(0x240)](HELP_HEADER_MESSAGE['init'])['epilogue'](HELP_FOOTER_MESSAGE)['options'](_0x271f68)[_0x24f209(0x244)]()[_0x24f209(0x21e)]()[_0x24f209(0x22c)](_0x4e4f44[_0x24f209(0x20c)])[_0x24f209(0x23a)];},exports[a12_0x3361ed(0x24c)]=async function(_0x16c333){const _0xe8e207=a12_0x3361ed,_0x45ca01={'nQSTP':_0xe8e207(0x1fe),'aznMH':_0xe8e207(0x206),'VpFoE':_0xe8e207(0x215),'gDXjI':_0xe8e207(0x224),'AKSXZ':'help','wzUBz':function(_0x379dfc){return _0x379dfc();},'sINFB':function(_0x53fd23){return _0x53fd23();},'gSpGv':function(_0x51762d,_0x2567fd,_0x20bd60,_0xfa3349,_0x8fb99b,_0x5e035b,_0x820505){return _0x51762d(_0x2567fd,_0x20bd60,_0xfa3349,_0x8fb99b,_0x5e035b,_0x820505);},'JVoCt':_0xe8e207(0x202),'Qtrmb':function(_0x519cd2,_0x444402){return _0x519cd2!==_0x444402;},'oPsag':_0xe8e207(0x20e),'LacrG':function(_0x188a22,_0x3670a3){return _0x188a22!==_0x3670a3;},'ppPJt':_0xe8e207(0x237),'NjuKA':_0xe8e207(0x227),'arqHX':function(_0x50590c,_0x1ab0f6){return _0x50590c===_0x1ab0f6;},'lfofW':_0xe8e207(0x218),'LOhZN':_0xe8e207(0x21a),'YBoPA':'hFomR','kdZQW':function(_0x4050fa,_0x160949){return _0x4050fa===_0x160949;},'UarHx':function(_0x43e332,_0x31d411){return _0x43e332===_0x31d411;},'XtIRh':_0xe8e207(0x210),'zJCyC':_0xe8e207(0x232),'cbOof':function(_0x4fcc7b){return _0x4fcc7b();},'vWBzf':_0xe8e207(0x225),'eqCmr':function(_0x423a21,_0x3cdef3,_0x522f90){return _0x423a21(_0x3cdef3,_0x522f90);},'VJpZq':function(_0x83c2e2,_0x404860){return _0x83c2e2!==_0x404860;},'pyEDK':function(_0x427c69,_0x552b93){return _0x427c69!==_0x552b93;},'CUKQf':function(_0x58f836,_0x9d677b){return _0x58f836===_0x9d677b;},'cqeNx':'bliXR','fwekZ':_0xe8e207(0x23e),'Wpvzn':function(_0x232bfd,_0x4b1fa2){return _0x232bfd===_0x4b1fa2;},'rHWfp':_0xe8e207(0x238),'kWgBS':_0xe8e207(0x22a),'habBa':_0xe8e207(0x20a),'wmbri':_0xe8e207(0x256),'GojwB':_0xe8e207(0x23d),'GZofA':_0xe8e207(0x25d),'kOUrS':_0xe8e207(0x1f7)};try{global_registry[_0xe8e207(0x243)]=_0x45ca01['sINFB'](uuidv4),_0x45ca01[_0xe8e207(0x220)](sendInstrumentationEvent,_0x16c333,_0x45ca01[_0xe8e207(0x258)],messageTypes[_0xe8e207(0x223)],null,null,_0x16c333);const _0x950c06=_0x45ca01['sINFB'](getDirForConfig);!fs[_0xe8e207(0x1f5)](_0x950c06)&&(_0x45ca01[_0xe8e207(0x251)](_0x45ca01[_0xe8e207(0x231)],_0x45ca01[_0xe8e207(0x231)])?_0x3e7b7b=_0xbec591[_0xe8e207(0x22e)]['BROWSERSTACK_ACCESS_KEY']:fs[_0xe8e207(0x233)](_0x950c06));let _0x455199,_0x4b6ebe;process[_0xe8e207(0x22e)][_0xe8e207(0x262)]&&(_0x45ca01['LacrG'](_0x45ca01[_0xe8e207(0x254)],_0x45ca01['ppPJt'])?_0x35c658=_0x287e99[_0xe8e207(0x213)](_0x20644d[_0xe8e207(0x226)](_0x548804,_0x45ca01[_0xe8e207(0x25f)])):_0x455199=process[_0xe8e207(0x22e)][_0xe8e207(0x262)]);process['env'][_0xe8e207(0x20f)]&&(_0x45ca01[_0xe8e207(0x1f6)](_0x45ca01['NjuKA'],_0x45ca01[_0xe8e207(0x209)])?_0xca5f4=_0x21e0e0['env'][_0xe8e207(0x262)]:_0x4b6ebe=process[_0xe8e207(0x22e)][_0xe8e207(0x20f)]);if(_0x16c333[_0xe8e207(0x24f)]){if(_0x45ca01[_0xe8e207(0x253)](_0x45ca01[_0xe8e207(0x259)],_0x45ca01['LOhZN'])){const _0x5c675b={};_0x5c675b[_0xe8e207(0x219)]=_0x45ca01[_0xe8e207(0x236)],_0x5c675b[_0xe8e207(0x245)]=_0x45ca01[_0xe8e207(0x21b)];const _0x53ef27={};_0x53ef27['description']=_0x45ca01[_0xe8e207(0x249)],_0x53ef27[_0xe8e207(0x245)]=_0x45ca01['VpFoE'];const _0x4844b2={};return _0x4844b2[_0xe8e207(0x247)]=_0x5c675b,_0x4844b2[_0xe8e207(0x255)]=_0x53ef27,_0x2da8ff[_0xe8e207(0x240)](_0x4fe33b[_0xe8e207(0x20b)])[_0xe8e207(0x211)](_0x1a26b5)[_0xe8e207(0x1ff)](_0x4844b2)[_0xe8e207(0x244)]()['strict']()[_0xe8e207(0x22c)](_0x45ca01[_0xe8e207(0x21f)])[_0xe8e207(0x23a)];}else _0x455199=_0x16c333[_0xe8e207(0x24f)];}_0x16c333[_0xe8e207(0x20d)]&&(_0x45ca01[_0xe8e207(0x253)](_0x45ca01[_0xe8e207(0x23b)],_0x45ca01['YBoPA'])?_0x4b6ebe=_0x16c333[_0xe8e207(0x20d)]:_0x2c098f=!![]);if(_0x45ca01[_0xe8e207(0x22f)](_0x455199,undefined)||_0x45ca01[_0xe8e207(0x228)](_0x4b6ebe,undefined)){if(_0x45ca01['UarHx'](_0x45ca01['XtIRh'],_0x45ca01['XtIRh'])){logger[_0xe8e207(0x1f3)](_0x45ca01[_0xe8e207(0x204)]);const [_0x48c8da,_0x2b0626]=await _0x45ca01['cbOof'](inputBstackKeys);_0x455199=_0x48c8da,_0x4b6ebe=_0x2b0626;}else _0x3fefa5['mkdirSync'](_0x885643);}let _0x26d39e=![];const _0x22f775=_0xe8e207(0x230)+_0x455199+':'+_0x4b6ebe+'@'+BS_API_URL+'/automate/plan.json',_0x7214d6={'method':_0x45ca01[_0xe8e207(0x1f4)],'headers':_0x45ca01[_0xe8e207(0x261)](getAuthHeader,_0x455199,_0x4b6ebe),'throwHttpErrors':![]},_0x29d6e1=await _0x45ca01[_0xe8e207(0x261)](got,_0x22f775,_0x7214d6);_0x45ca01[_0xe8e207(0x257)](_0x29d6e1,null)&&_0x45ca01[_0xe8e207(0x1fa)](_0x29d6e1,undefined)&&_0x45ca01[_0xe8e207(0x1f9)](_0x29d6e1['statusCode'],0xc8)&&(_0x45ca01[_0xe8e207(0x1f6)](_0x45ca01[_0xe8e207(0x1fc)],_0x45ca01[_0xe8e207(0x263)])?_0x26d39e=!![]:_0x40ae0f=_0x1596e5[_0xe8e207(0x24f)]);if(_0x26d39e){if(_0x45ca01[_0xe8e207(0x25e)](_0x45ca01['rHWfp'],_0x45ca01[_0xe8e207(0x212)]))_0x13c4f6=_0x5de058[_0xe8e207(0x20d)];else{let _0x52f06={};const _0x124b33=_0x45ca01[_0xe8e207(0x222)](getCredentialsPath);if(fs['existsSync'](_0x124b33)){if(_0x45ca01[_0xe8e207(0x253)](_0x45ca01[_0xe8e207(0x23f)],_0x45ca01[_0xe8e207(0x21d)])){let _0x277f01={};const _0xb89c5b=_0x45ca01[_0xe8e207(0x201)](_0x1367ba);_0x1b8730[_0xe8e207(0x1f5)](_0xb89c5b)&&(_0x277f01=_0x483dfe[_0xe8e207(0x213)](_0x433e56[_0xe8e207(0x226)](_0xb89c5b,_0x45ca01[_0xe8e207(0x25f)])));const _0x24a1d8={};_0x24a1d8[_0xe8e207(0x203)]=_0x433a9c,_0x24a1d8[_0xe8e207(0x250)]=_0x5f360,_0x277f01[_0xe8e207(0x1fd)]=_0x24a1d8,_0x2dc48b[_0xe8e207(0x22d)](_0xb89c5b,_0x60755f[_0xe8e207(0x24e)](_0x277f01)),_0x2c2344[_0xe8e207(0x25c)](0x0);}else _0x52f06=JSON[_0xe8e207(0x213)](fs[_0xe8e207(0x226)](_0x124b33,_0x45ca01[_0xe8e207(0x25f)]));}const _0x17b630={};_0x17b630[_0xe8e207(0x203)]=_0x455199,_0x17b630['password']=_0x4b6ebe,_0x52f06[_0xe8e207(0x1fd)]=_0x17b630,fs[_0xe8e207(0x22d)](_0x124b33,JSON[_0xe8e207(0x24e)](_0x52f06)),process[_0xe8e207(0x25c)](0x0);}}else logger[_0xe8e207(0x216)](_0x45ca01[_0xe8e207(0x239)]),await _0x45ca01[_0xe8e207(0x220)](sendInstrumentationEvent,_0x16c333,_0x45ca01['JVoCt'],messageTypes[_0xe8e207(0x23c)],_0x45ca01[_0xe8e207(0x207)],null,_0x16c333),process[_0xe8e207(0x25c)](0x1);}catch(_0x47193b){logger['error'](_0x47193b[_0xe8e207(0x205)]),await _0x45ca01[_0xe8e207(0x220)](sendInstrumentationEvent,_0x16c333,_0x45ca01[_0xe8e207(0x258)],messageTypes[_0xe8e207(0x23c)],_0x45ca01[_0xe8e207(0x235)],_0x47193b,_0x16c333),process['exit'](0x1);}};